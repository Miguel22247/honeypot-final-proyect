# Cowrie Honeypot Setup Complete

## Service Status

- **SSH Honeypot:** Port 22 → 2222
- **Telnet Honeypot:** Port 23 → 2323

## Configuration Files

- **Main config:** `/home/cowrie/cowrie/etc/cowrie.cfg`
- **User database:** `/home/cowrie/cowrie/etc/userdb.txt`
- **MOTD file:** `/home/cowrie/cowrie/etc/motd`

## Log Files

- **Main log:** `/home/cowrie/cowrie/var/log/cowrie/cowrie.log`
- **JSON log:** `/home/cowrie/cowrie/var/log/cowrie/cowrie.json`
- **Downloads:** `/home/cowrie/cowrie/var/lib/cowrie/downloads/`

## Management Commands

### Service Management

```bash
# Check status
sudo systemctl status cowrie
# Stop service
sudo systemctl stop cowrie
# Start service
sudo systemctl start cowrie
# Restart service
sudo systemctl restart cowrie
# View service logs
sudo journalctl -u cowrie -f
```

### Log Monitoring

```bash
# View live logs
tail -f /home/cowrie/cowrie/var/log/cowrie/cowrie.log
# View JSON logs
tail -f /home/cowrie/cowrie/var/log/cowrie/cowrie.json
# Search for specific attacks
grep "login attempt" /home/cowrie/cowrie/var/log/cowrie/cowrie.log
# View recent connections
tail -n 50 /home/cowrie/cowrie/var/log/cowrie/cowrie.log | grep "New connection"
```

### Utility Scripts

- **Backup:** `scripts/backup.sh`
- **Monitor:** `scripts/monitor.sh`
- **Fix Markdown:** `scripts/fix-markdown.sh`

## Sample Credentials

See `config/userdb.txt` for common weak credentials used for testing.

## Network Configuration

- **Port Redirection:** SSH (22) → 2222, Telnet (23) → 2323
- **Firewall:** Managed via `config/iptablesload`

## Security Considerations

- Review `docs/security-warnings.md` for best practices
- Ensure proper network isolation
- Monitor logs regularly

## Next Steps

- Analyze attack data in ELK Stack
- Update configuration as needed
- Review documentation for advanced features

## Viewing Logs from Docker Containers

To view the logs generated by Cowrie running inside a Docker container, use the following command on the host system:

```bash
sudo cat /var/lib/docker/containers/<container-id>/<container-id>-json.log
```

Replace `<container-id>` with the actual ID of your container. You can find the container ID by running:

```bash
docker ps
```

The log file contains all standard output and error messages from the container, including Cowrie logs.
